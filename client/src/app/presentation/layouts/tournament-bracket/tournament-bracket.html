<div class="min-h-screen bg-white flex flex-col font-sans selection:bg-orange-500/30 relative overflow-hidden">
    
    <div class="absolute inset-0 z-0 pointer-events-none overflow-hidden">
        <div class="absolute top-[-5%] left-[-5%] w-[35%] h-[35%] bg-orange-600/10 rounded-full blur-[100px]"></div>
        <div class="absolute bottom-[-5%] right-[-5%] w-[35%] h-[35%] bg-blue-600/10 rounded-full blur-[100px]"></div>
    </div>
    
    <div class="absolute bottom-0 -left-20 w-1/2 h-1/2 bg-pato-trofeo bg-contain bg-no-repeat bg-left-bottom z-0 pointer-events-none"></div>

    <div class="relative z-10 flex flex-col h-screen">
        
        <header class="p-4 flex justify-between items-center bg-white/40 backdrop-blur-md border-b border-slate-100 sticky top-0">
            <div class="flex items-center gap-4"> <button (click)="goHome()" 
                    class="flex items-center gap-2.5 px-4 py-2 rounded-2xl text-slate-500 hover:text-orange-600 hover:bg-orange-50 transition-all cursor-pointer group">
                    
                    <ng-icon name="heroArrowLeft" class="text-2xl group-hover:-translate-x-1.5 transition-transform"></ng-icon>
                    
                    <span class="text-xs font-black uppercase tracking-[0.2em]">Volver</span>
                </button>

                <div class="h-6 w-[1px] bg-slate-200 mx-1"></div>

                <h2 class="text-slate-800 text-lg font-black uppercase italic tracking-tighter">
                    {{ tournament?.tournamentName || 'PatoCup' }} <span class="text-orange-600 font-black">Progress</span>
                </h2>
            </div>
        </header>

        <main class="flex-grow overflow-x-auto flex items-center justify-start p-6 sm:p-10 custom-scrollbar">
            @if (isLoading) {
                <div class="flex flex-col items-center justify-center w-full gap-3">
                    <div class="w-10 h-10 border-4 border-orange-500 border-t-transparent rounded-full animate-spin"></div>
                    <p class="text-slate-400 text-[9px] font-black uppercase tracking-[0.3em]">Sincronizando...</p>
                </div>
            } @else {
                <div class="flex items-center gap-10 min-w-max px-6">
                    
                    @for (phase of orderedPhases; track phase.phaseId) {
                        @if (phase.phaseOrder > 0) {
                            <div class="group relative flex flex-col gap-6 animate-in fade-in zoom-in duration-500 p-4 rounded-3xl transition-all ">
                                
                                <div class="absolute inset-0 bg-orange-500/[0.03] blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-3xl pointer-events-none"></div>

                                <div class="text-center relative z-10">
                                    <h4 class="text-[10px] font-black text-slate-400 uppercase tracking-[0.4em] mb-1 group-hover:text-orange-600 transition-colors">
                                        {{ phase.phaseName }}
                                        <span class="text-orange-500/50 group-hover:text-orange-600 ml-1">#{{ phase.phaseOrder }}</span>
                                    </h4>
                                    <div class="h-[2px] w-full bg-gradient-to-r from-transparent via-slate-200 group-hover:via-orange-500/50 to-transparent transition-all duration-500"></div>
                                </div>

                                <div class="flex flex-col justify-center gap-4 relative z-10">
                                    @for (match of phase.matches; track match.matchId) {
                                        <div class="w-60 bg-white/80 border border-slate-100 p-3.5 rounded-2xl shadow-sm group-hover:shadow-md group-hover:border-orange-200 transition-all relative backdrop-blur-md">
                                            
                                            <div class="flex justify-between items-center mb-2">
                                                <div class="flex items-center gap-2">
                                                    <span class="text-xs font-bold uppercase transition-colors" 
                                                          [class.text-orange-600]="match.scorePlayer1 > match.scorePlayer2"
                                                          [class.text-slate-700]="match.scorePlayer1 <= match.scorePlayer2">
                                                        {{ match.player1Name }}
                                                    </span>
                                                    @if(match.scorePlayer1 > match.scorePlayer2) {
                                                        <ng-icon name="heroStar" class="text-orange-500 text-[10px]"></ng-icon>
                                                    }
                                                </div>
                                                <span class="text-sm font-black italic" [class.text-orange-600]="match.scorePlayer1 > match.scorePlayer2" [class.text-slate-300]="match.scorePlayer1 <= match.scorePlayer2">
                                                    {{ match.scorePlayer1 }}
                                                </span>
                                            </div>

                                            <div class="flex justify-between items-center pt-2 border-t border-slate-50">
                                                <div class="flex items-center gap-2">
                                                    <span class="text-xs font-bold uppercase transition-colors" 
                                                          [class.text-orange-600]="match.scorePlayer2 > match.scorePlayer1"
                                                          [class.text-slate-500]="match.scorePlayer2 <= match.scorePlayer1">
                                                        {{ match.player2Name }}
                                                    </span>
                                                    @if(match.scorePlayer2 > match.scorePlayer1) {
                                                        <ng-icon name="heroStar" class="text-orange-500 text-[10px]"></ng-icon>
                                                    }
                                                </div>
                                                <span class="text-sm font-black italic" [class.text-orange-600]="match.scorePlayer2 > match.scorePlayer1" [class.text-slate-300]="match.scorePlayer2 <= match.scorePlayer1">
                                                    {{ match.scorePlayer2 }}
                                                </span>
                                            </div>
                                        </div>
                                    } @empty {
                                        <div class="w-60 py-10 border border-dashed border-slate-200 rounded-2xl flex flex-col items-center justify-center bg-slate-50/30 opacity-60">
                                            <span class="text-slate-400 text-[9px] font-black uppercase tracking-widest italic">TBD</span>
                                        </div>
                                    }
                                </div>
                            </div>

                            @if (!$last) {
                                <div class="flex items-center self-center text-slate-200">
                                    <ng-icon name="heroArrowRight" class="text-2xl"></ng-icon>
                                </div>
                            }
                        }
                    }

                    <div class="flex flex-col items-center justify-center gap-4 ml-6 self-center">
                        <div class="relative group">
                            <div class="absolute -inset-8 bg-orange-500/10 blur-[40px] rounded-full group-hover:bg-orange-500/20 transition-all duration-700"></div>
                            <div class="relative bg-white p-6 rounded-full border border-orange-100 shadow-xl group-hover:scale-110 transition-transform duration-500">
                                <ng-icon name="heroTrophy" class="text-5xl text-orange-500 drop-shadow-xl ]"></ng-icon>
                            </div>
                        </div>
                        <div class="text-center">
                            <span class="bg-orange-500 text-white px-3 py-0.5 rounded-full text-[8px] font-black uppercase tracking-widest shadow-lg shadow-orange-500/20">
                                Champion
                            </span>
                            <div class="mt-3 text-slate-900 text-3xl font-black uppercase italic tracking-tighter leading-none">
                                {{ winnerName }}
                            </div>
                        </div>
                    </div>

                </div>
            }
        </main>

        <footer class="p-4 text-center border-t border-slate-50 bg-white/20">
            <p class="text-slate-300 text-[9px] uppercase tracking-[0.6em] font-bold">
                PatoCup 2026
            </p>
        </footer>
    </div>
</div>